# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Student {
  _id: ID!
  nik: String!
  fullName: String!
  profilePhoto: String!
  school: String!
  class: String!
  birthDate: DateTime!
  countryCode: String!
  phone: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type WhatsappTemplateMessageComponent {
  type: String!
  text: String!
  url: String
  example: [String!]
}

type WhatsappTemplateMessageBody {
  """must be number with type of string"""
  key: String!

  """must be in snake case, max length 16"""
  value: String!
}

type WhatsappTemplateMessageParameter {
  body: [WhatsappTemplateMessageBody!]!
}

type StudentAttendance {
  student: Student!
  checkIn: DateTime!
  checkOut: DateTime
}

type StudentAttendanceUpdateObject {
  studentAttendance: StudentAttendance
  message: String!
}

type StudentAttendancesList {
  studentAttendances: [StudentAttendance!]!
  count: Float!
}

type StudentsList {
  students: [Student!]!
  count: Float!
}

type User {
  _id: ID!
  username: String!
  email: String!
  role: UserRoleEnum!
}

enum UserRoleEnum {
  """SuperAdmin"""
  SuperAdmin

  """Admin"""
  Admin

  """Teacher"""
  Teacher
}

type UsersList {
  users: [User!]!
  count: Float!
}

type ValidatedUser {
  accessToken: String!
  _id: ObjectId!
  username: String!
  email: String!
  role: String!
}

"""Mongo object id scalar type"""
scalar ObjectId

type Query {
  """Get profile and refresh token"""
  profile: ValidatedUser!
  users(query: GetUsersArgs!): [User!]!
  user(userId: ObjectId!): User!
  usersList(query: GetUsersArgs!): UsersList!
  student(studentId: ObjectId!): Student!
  studentsList(query: GetStudentsArgs): StudentsList!
  studentAttendance(studentAttendanceId: ObjectId!): StudentAttendance!
  studentAttendancesList(query: GetStudentAttendancesArgs, populate: [PopulateInput!] = [], lean: Boolean = false): StudentAttendancesList!
}

input GetUsersArgs {
  email: String
  username: String
  role: [UserRoleEnum!]
  password: String
}

input GetStudentsArgs {
  nik: String
  fullName: String
  profilePhoto: String
  school: String
  class: String
  birthDate: DateTime
  countryCode: String
  phone: String
}

input GetStudentAttendancesArgs {
  student: ObjectId
  dateRange: DateRangeArgs
}

input DateRangeArgs {
  start: DateTime
  end: DateTime
}

input PopulateInput {
  path: String!
  populate: [PopulateInput!]
  options: QueryOptionInput
}

input QueryOptionInput {
  lean: Boolean
}

type Mutation {
  login(email: String!, password: String!): ValidatedUser!

  """refresh token and save device data"""
  profileRefresh: ValidatedUser!
  userCreate(data: CreateUserInput!): User!
  userUpdate(userId: ObjectId!, data: UpdateUserInput!): User!
  userDelete(userId: ObjectId!): User!
  studentCreate(data: CreateStudentInput!): Student!
  studentCreateMany(data: [CreateStudentInput!]!): Student!
  studentUpdate(studentId: ObjectId!, data: UpdateStudentInput!): Student!
  studentDelete(studentId: ObjectId!): Student!
  studentAttendanceCreate(data: CreateStudentAttendanceInput!): StudentAttendanceUpdateObject!
  studentAttendanceUpdate(studentAttendanceId: ObjectId!, data: UpdateStudentAttendanceInput!): StudentAttendance!
  studentAttendanceCheckout(studentId: ObjectId!): StudentAttendanceUpdateObject!
  studentAttendanceDelete(studentAttendanceId: ObjectId!): StudentAttendance!
}

input CreateUserInput {
  email: String!
  username: String!
  role: UserRoleEnum!
  password: String!
}

input UpdateUserInput {
  email: String
  username: String
  role: UserRoleEnum
  password: String
}

input CreateStudentInput {
  nik: String!
  fullName: String!
  profilePhoto: String!
  school: String!
  class: String!
  birthDate: DateTime!
  countryCode: String!
  phone: String!
}

input UpdateStudentInput {
  nik: String
  fullName: String
  profilePhoto: String
  school: String
  class: String
  birthDate: DateTime
  countryCode: String
  phone: String
}

input CreateStudentAttendanceInput {
  student: ObjectId!
  checkIn: DateTime!
}

input UpdateStudentAttendanceInput {
  checkIn: DateTime!
}